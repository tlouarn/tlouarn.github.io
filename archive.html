---
title: Archive
layout: page
---

{%- for post in site.posts -%}

    {%- capture year_of_current_post -%}
    {{ post.date | date: "%Y" }}
    {%- endcapture -%}

    {%- capture year_of_previous_post -%}
    {{ post.previous.date | date: "%Y" }}
    {%- endcapture -%}

    {%- if forloop.first -%}
        <h1>{{ year_of_current_post }}</h1>
        <ul>
    {%- endif -%}

        <li><a href="{{ post.url }}">{{ post.title }}</a></li>

    {%- if forloop.last -%}
        </ul>
    {%- else -%}
    {%- if year_of_current_post != year_of_previous_post -%}
        </ul>
        <h1>{{ year_of_previous_post }}</h1>
        <ul>
    {%- endif -%}
    {%- endif -%}

{%- endfor -%}
